% 自定义下划线命令
\newcommand\dunderline[3][-1pt]{{%
		\setbox0=\hbox{#3}%
		\ooalign{\copy0\cr\rule[\dimexpr#1-#2\relax]{\wd0}{#2}}}}

\begin{titlepage}
	\makeatletter
	\@ifundefined{externalMentorName}{
		% 校内毕设封面顶部间距
		\vspace*{-20mm}
	}{
		% 校外毕设封面顶部间距
		\vspace*{13mm}
	}
	\centering
	
	\includegraphics[width=3cm]{figures/logo.png}\\
	\includegraphics[width=5cm, height=1cm]{figures/name.png}
	
	\vspace*{10mm}
	\begin{center}
		\zihao{1}\textbf{\ziju{0.12}\songti{本科生毕业论文（设计）}}
		
		\vspace{20mm}
		
		\xiaoer\textmd{\heiti{题目：}\title}
		
		\vspace{5mm}
		\ifdefined\subtitle
		\begin{spacing}{1.2}
			\sanhao\selectfont{\textmd{\kaiti{-----}\subtitle}}
		\end{spacing}
		\fi
		\vspace{30mm}
		
		\flushleft
		
		\@ifundefined{externalMentorName}{
			% 生成校内毕设封面字段
			\begin{spacing}{1.8}
				\hspace{27mm}\songti\zihao{3}\selectfont{学生姓名：\dunderline[-10pt]{1pt}{\makebox[78mm][c]{\author}}}
				
				\hspace{27mm}\songti\zihao{3}\selectfont{学号：\dunderline[-10pt]{1pt}{\makebox[78mm][c]{\studentid}}}
				
				\hspace{27mm}\songti\zihao{3}\selectfont{指导教师：\dunderline[-10pt]{1pt}{\makebox[78mm][c]{\advisor}}}
				
				\hspace{27mm}\songti\zihao{3}\selectfont{所在学院：\dunderline[-10pt]{1pt}{\makebox[78mm][c]{\deptName}}}
				
				\hspace{27mm}\songti\zihao{3}\selectfont{专业名称：\dunderline[-10pt]{1pt}{\makebox[78mm][c]{\major}}}
				
				\hspace{27mm}\songti\zihao{3}\selectfont{班级：\dunderline[-10pt]{1pt}{\makebox[78mm][c]{\className}}}
			\end{spacing}
		}{
			% 生成校外毕设封面字段
			\begin{spacing}{1.8}
				\hspace{19.4mm}\songti\zihao{3}\selectfont{学院：\dunderline[-10pt]{1pt}{\makebox[77.4mm][c]{\deptName}}}
				
				\hspace{19.4mm}\songti\zihao{3}\selectfont{专业：\dunderline[-10pt]{1pt}{\makebox[77.4mm][c]{\major}}}
				
				\hspace{19.4mm}\songti\zihao{3}\selectfont{学生姓名：\dunderline[-10pt]{1pt}{\makebox[77.4mm][c]{\author}}}
				
				\hspace{19.4mm}\songti\zihao{3}\selectfont{学号：\dunderline[-10pt]{1pt}{\makebox[77.4mm][c]{\studentid}}}
				
				\hspace{19.4mm}\songti\zihao{3}\selectfont{指导教师：\dunderline[-10pt]{1pt}{\makebox[77.4mm][c]{\advisor}}}
			\end{spacing}
		}
		
		\vspace{25mm}
		\centering
		\zihao{4}\ziju{0.5}{\date}
	\end{center}
\end{titlepage}